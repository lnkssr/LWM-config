#!/bin/bash

# Папка с обоями
WALLPAPER_DIR="/mnt/lwalpapers/"

# Проверяем, существует ли папка
if [ ! -d "$WALLPAPER_DIR" ]; then
  echo "Error: Папка с обоями ($WALLPAPER_DIR) не найдена!"
  exit 1
fi

# Выбираем случайный файл из папки
RANDOM_WALLPAPER=$(find "$WALLPAPER_DIR" -type f \( -iname "*.jpg" -o -iname "*.png" -o -iname "*.jpeg" \) | shuf -n 1)

# Проверяем, найден ли файл
if [ -z "$RANDOM_WALLPAPER" ]; then
  echo "Error: Не удалось найти файлы обоев в $WALLPAPER_DIR"
  exit 1
fi

# Устанавливаем обои с помощью Nitrogen
nitrogen --set-zoom-fill "$RANDOM_WALLPAPER"

echo "Установлены обои: $RANDOM_WALLPAPER"

